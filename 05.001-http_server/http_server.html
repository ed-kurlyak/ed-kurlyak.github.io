<!DOCTYPE html>
<html>
<head>
	<title>Как на С++ написать простой HTTP сервер Windows | Ubuntu Linux</title>

	<meta name="DESCRIPTION" content="Как на С++ написать простой HTTP сервер Windows | Ubuntu Linux">
	<meta name="KEYWORDS" content="Как на С++ написать простой HTTP сервер Windows | Ubuntu Linux">

<style type="text/css">
body {
	font-size: 24px;
	font-family: "Consolas";
	background-color: #000;
	color: #ffffff;
}

pre {
	font-size: 24px;
	font-family: "Consolas";
	background-color: #ffffaa;
	color: #000;
	width: max-content;
	min-width: 100%;

}

div.my_selected {
	width: 100%;
	background-color: #ffff55;
	position: relative;
}

a:link, a:visited { color: #aaaaaa; text-decoration: none; font-weight: normal;} 
a:active, a:hover { color: #aaaaaa; text-decoration: underline;}

p {
	text-align: justify;
	margin-right: 20px;
}

</style>	
</head>
<body>

<h3>
Как на С++ написать простой HTTP сервер Windows | Ubuntu Linux
</h3>



<p>Загрузить исходный код С++ WinAPI Visual Studio 2019 <a href="./http_win.rar">ЗДЕСЬ</a></p>

<p>Загрузить исходный код С++ для Ubuntu Linux <a href="./http_lnx.rar">ЗДЕСЬ</a></p>


<p>Для компиляции и запуска под Windows последовательность действий такая:</p>

<ol>

<li>
Открыть проект для Visual Studio 2019 и скомпилировать
</li>

<li>
Запускаем скомпилированный ЕХЕ на выполнение. Запуститься окно консольного приложения
</li>

<li>
Открыть браузер (например Chrome, Mozilla etc.), в адресной строке браузера набрать такой адрес: 127.0.0.1:8000
</li>

<li>
После того как вы набрали адрес в строке браузера и перешли на этот адрес - браузер выдаст на экран текстовую страницу - ответ сервера (скриншот ниже).
</li>

</ol>

<p>Для компиляции и запуска под Ubuntu Linux последовательность действий такая:</p>

<ol>

<li>На рабочий стол (например с флешки) копируем файлы mycode.cpp и my.sh</li>

<li>Правой кнопкой мыши нажимаем на файле my.sh, заходим в свойства этого файла, Доступ, и ставим галочку - Сделать файл исполняемым</li>

<li>Запускаем Терминал, в Терминале переходим на рабочий стол командой: cd Desktop</li>

<li>В Терминале даем команду: ./my.sh при этом запуститься g++ для компиляции файла mycode.cpp, в результате выполнения этой команды на рабочем столе должен появиться исполняемый файл mycode.out</li>

<li>В Терминале набираем команду запуска файла сервера: ./mycode.out</li>

<li>Открыть браузер (например Mozilla etc.), в адресной строке браузера набрать такой адрес: 127.0.0.1:8000</li>

<li>
После того как вы набрали адрес в строке браузера и перешли на этот адрес - браузер выдаст на экран текстовую страницу - ответ сервера (скриншот ниже).
</li>

</ol>

<img src="./http_server.jpg" width="900">

<p>
Так же можете поекспериментировать - поменять в коде C++ номер порта для соединения, например 127.0.0.1:80, кроме того можно переименовать файл mycode.cpp в файл mycode.c и скомилировать его при помощи gcc (а не g++ как в нашем примере). Можно пойти далее- сделать себе статический IP на компьютере при помощи он- лайн сервиса <a href="https://www.noip.com/">https://www.noip.com/</a>. Этот сервис позволяет сделать статический IP если вы не хотите провайдеру платить за статический IP, или у вас его просто нет, и провайдер вам выдает динамический IP. На этом он-лайн сервисе можно зарегистрироваться, у них на сайтесоздать доменное имя которое вы будете набирать в адресной строке браузера. Далее необходим скачать клиент DUC - это программа стоит у вас на компьютере, каждых 5 минут на сервер noip.com посылает ваш актуальный IP. Например вы создали доменное имя myhost.ddns.net. Каждые 5 минут программа клиент DUC с вашего компьютера посылает ваш актуальный IP на сервер noip.com и привязывает его к вашему доменному имени. На базе noip.com можно запустить свой http сервер - нужно в коде С++ поменять порт на 80, и ввести вместо 127.0.0.1 ваше доменное имя, то есть код С++ такой:
</p>

<pre>

	result = getaddrinfo("myhost.ddns.net", "80", &hints, &addr);

</pre>

<p>
Вы запустили клиент DUC, вы запустили свой http сервер на 80 порту, заходите в окне браузера по адресу: myhost.ddns.net - и браузер вас перемещает на сделанную вами страницу сервера.
</p>


</body>
</html>
